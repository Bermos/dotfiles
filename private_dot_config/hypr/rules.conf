# ═══════════════════════════════════════════════════════════════════════════
# WINDOW RULES
# ═══════════════════════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────────────────────
# FLOATING WINDOWS
# ───────────────────────────────────────────────────────────────────────────

# Picture-in-Picture
windowrulev2 = float, title:^(Picture-in-Picture)$
windowrulev2 = size 800 450, title:^(Picture-in-Picture)$
windowrulev2 = pin, title:^(Picture-in-Picture)$
windowrulev2 = opacity 0.95, title:^(Picture-in-Picture)$

# Firefox PiP specifically
windowrulev2 = float, title:^(Picture-in-Picture|Firefox)$
windowrulev2 = size 800 450, title:^(Picture-in-Picture|Firefox)$
windowrulev2 = pin, title:^(Picture-in-Picture|Firefox)$

# Common dialogs
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = float, class:^(blueman-manager)$
windowrulev2 = float, class:^(nm-connection-editor)$
windowrulev2 = float, title:^(Open File)$
windowrulev2 = float, title:^(Save File)$
windowrulev2 = float, title:^(Open Folder)$

# File pickers
windowrulev2 = float, class:^(xdg-desktop-portal-gtk)$
windowrulev2 = size 1000 600, class:^(xdg-desktop-portal-gtk)$

# ───────────────────────────────────────────────────────────────────────────
# OPACITY RULES (LCARS glassy aesthetic)
# ───────────────────────────────────────────────────────────────────────────

# Terminals - slight transparency for glassy look
windowrulev2 = opacity 0.92 0.88, class:^(kitty)$
windowrulev2 = opacity 0.92 0.88, class:^(Alacritty)$
windowrulev2 = opacity 0.92 0.88, class:^(foot)$

# Code editors - keep opaque for clarity
windowrulev2 = opacity 1.0, class:^(Code|code-url-handler)$
windowrulev2 = opacity 1.0, class:^(jetbrains-.*)$

# File managers - slight transparency
windowrulev2 = opacity 0.94 0.90, class:^(thunar|Thunar)$
windowrulev2 = opacity 0.94 0.90, class:^(nautilus)$
windowrulev2 = opacity 0.94 0.90, class:^(dolphin)$

# Browsers - opaque
windowrulev2 = opacity 1.0, class:^(firefox)$
windowrulev2 = opacity 1.0, class:^(chromium)$

# Discord - slight transparency
windowrulev2 = opacity 0.94 0.90, class:^(discord)$
windowrulev2 = opacity 0.94 0.90, class:^(WebCord)$

# ───────────────────────────────────────────────────────────────────────────
# GAMING RULES (optional - uncomment if needed)
# ───────────────────────────────────────────────────────────────────────────

# Gamescope - for running games in a contained window
# windowrulev2 = noborder, class:^(gamescope)$
# windowrulev2 = tile, class:^(gamescope)$
# windowrulev2 = size 3440 1440, class:^(gamescope)$
# windowrulev2 = move 0 0, class:^(gamescope)$

# Steam windows
# windowrulev2 = float, title:^(Steam Settings)$
# windowrulev2 = float, title:^(Friends List)$
# windowrulev2 = float, title:^(Steam - News)$

# ───────────────────────────────────────────────────────────────────────────
# WORKSPACE ASSIGNMENTS
# ───────────────────────────────────────────────────────────────────────────

# Web browsers on workspace 1
windowrulev2 = workspace 1, class:^(firefox)$
windowrulev2 = workspace 1, class:^(chromium)$

# Code editors on workspace 2
windowrulev2 = workspace 2, class:^(Code|code-url-handler)$
windowrulev2 = workspace 2, class:^(jetbrains-.*)$

# Communication on workspace 3
windowrulev2 = workspace 3, class:^(discord)$
windowrulev2 = workspace 3, class:^(WebCord)$
windowrulev2 = workspace 3, class:^(Slack)$

# Music/Media on workspace 4
windowrulev2 = workspace 4, class:^(Spotify)$

# ───────────────────────────────────────────────────────────────────────────
# LAYER RULES (for overlays like wofi, waybar, etc.)
# ───────────────────────────────────────────────────────────────────────────

layerrule = blur on, match:namespace waybar
layerrule = blur on, ignore_alpha 1, match:namespace wofi
layerrule = blur on, ignore_alpha 1, match:namespace notifications
layerrule = blur on, ignore_alpha 1, match:namespace logout_dialog

# ───────────────────────────────────────────────────────────────────────────
# SPECIAL WINDOW BEHAVIORS
# ───────────────────────────────────────────────────────────────────────────

# Idle inhibit for fullscreen apps
windowrulev2 = idleinhibit fullscreen, class:.*
windowrulev2 = idleinhibit focus, class:^(mpv)$
windowrulev2 = idleinhibit focus, title:^(.*YouTube.*)$

# Center floating windows
windowrulev2 = center, floating:1

# Suppress maximize/fullscreen on Firefox (uncomment if needed)
# windowrulev2 = fullscreenstate 0 2, class:^(firefox)$
# windowrulev2 = syncfullscreen 0, class:^(firefox)$
